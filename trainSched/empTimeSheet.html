<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>

    <title>Document</title>

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css'
        integrity='sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS' crossorigin='anonymous'>
    <!-- <link rel='stylesheet' href='assets/css/style.css'> -->
    <style>
        * {
            box-sizing: border-box;
            border: 1px dotted rebeccapurple;
        }
    </style>
    <script src='https://code.jquery.com/jquery-3.3.1.slim.min.js' integrity='sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo' crossorigin='anonymous'></script>

</head>

<body>
    <div class='container'>
        <div class="row"></div>
        <div class="col-md-12" id="title-row">
            <div class="jumbotron">Employee Data Management</div>
        </div>
        <div class="row"></div>
        <div class="col" id="emp-list">
            <table id="employeeTable"><tr><td>Name</td><td>Role</td><td>Start Date</td><td>Rate</td><td>Months Employed</td><td>Earnings</td></tr></table>

        </div>
        <div class="row"></div>
        <div class="col" id="emp-form">EMPLOYEE FORM HERE:
            <form class=form-group action="submit">
                <div class="form-group">
                    <label for="emp-name">Employee Name:</label>
                    <input type="text" id="emp-name">
                </div>
                <div class="form-group">
                    <label for="emp-role">Role:</label>
                    <input type="text" id="emp-role">
                </div>                
                <div class="form-group">
                    <label for="emp-start-date">Start Date:</label>
                    <input type="date" id="emp-start-date">
                </div>
                <div class="form-group">
                    <label for="emp-rate">Monthly Rate:</label>
                    <input type="number" id="emp-rate">
                </div>
                <button type="submit" class="btn btn-primary" id="click-button">Submit</button>
                
            </form>
        </div>
        <!-- Optional JavaScript -->
    

        <script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyDvoQkoGUQ5a1Q0_5Lxry2rLSd0_dbkV6M",
            authDomain: "emptimesheet-74328.firebaseapp.com",
            databaseURL: "https://emptimesheet-74328.firebaseio.com",
            projectId: "emptimesheet-74328",
            storageBucket: "emptimesheet-74328.appspot.com",
            messagingSenderId: "898008425335"
          };
          firebase.initializeApp(config);

    var database = firebase.database();  // database to a variable

$("#click-button").on("click", function(event) {
    event.preventDefault();
      var empName = $("#emp-name").val().trim();
      var empRole = $("#emp-role").val().trim();
      var empStartDate = $("#emp-start-date").val().trim();
      var empRate = $("#emp-rate").val().trim();

        $("#emp-name").val("");
        $("#emp-role").val("");    
        $("#emp-start-date").val("");
        $("#emp-rate").val("");

      database.ref().push({  // Writing the variable "clickCounter" to the database as a key/value pair -- clickCounter increments it before hand so it's writing the incremented value each time "#click-button" is clicked.
 
        name: empName,
        role: empRole,
        startdate: empStartDate,
        rate: empRate

      });
    });


    database.ref().orderByChild("dateAdded").on("child_added", function(childSnapshot) {
        var rowHtml = "<tr><td>" + childSnapshot.val().name + "</td><td>" + childSnapshot.val().role + "</td><td>" + childSnapshot.val().startdate + "</td><td>" + childSnapshot.val().rate + "</td><td>"+ monthsEmp +"</td><td>"+ earnings +"</td></tr>";
        $("#employeeTable").append(rowHtml);
    });



        
        </script>
</body>

</html>